<html>
  <head>
    <title>数组网 - 彪悍的Demo无需解释</title>
    <link href="/css/site.css" rel="stylesheet">
    <script src="/js/less-3.8.0.min.js"></script>
    <link href="/css/github-markdown-2.10.0.css" rel="stylesheet">
    <script src="/js/markdown-0.5.0.js"></script>
  </head>
  <body>
    <div id="header">
      <div class="site-slogan">彪悍的Demo无须解释</div>
      <div><span class="site-name"><a href="/">数组网</a></span><span class="site-url"><a href="shuzu.org">shuzu.org</a></span></div>
    </div>
    <div id="main">
      <div id="repo-main">
        <div class="navigation"><span><a href="/">数组网</a></span><span> &gt; </span><span class="org-link"><a href="/orgs/golang-demos/index.html">golang-demos</a></span><span> &gt; </span><span class="repo-name">go-cobra-demo</span><span class="repo-description"></span></div>
        <div id="readme">
          <div class="markdown markdown-body">Cobra Demo
==========

Simple version of a command line parser.

The full version is complex, not implemented yet. You can see more on &lt;https://github.com/spf13/cobra&gt;

```
$ go-cobra-demo --help
This is a very simple demo for cobra, you can see more at: https://github.com/spf13/cobra

  Usage:
    go-cobra-demo [flags]
    go-cobra-demo [command]

  Available Commands:
    help        Help about any command
    version     Show version

  Flags:
    -h, --help   help for go-cobra-demo

  Use &quot;go-cobra-demo [command] --help&quot; for more information about a command.

```

Debug in editor
---------------

One way is to add commands to &quot;Rub/Debug configuration&quot; -&gt; &quot;Program arguments&quot;

Another is add code before `cmd.Execute()` in `main.go`:

```
func main() {
    os.Args = append(os.Args, &quot;version&quot;) // Add command here!
	cmd.Execute()
}

```
</div>
        </div>
        <div class="code-file panel markdown-body">
          <div class="header">
            <div class="name"><a href="https://github.com/golang-demos/go-cobra-demo/blob/master/cmd/root.go" target="_blank">root.go</a></div>
            <div class="path">cmd/root.go</div>
          </div>
          <div class="body">
            <pre class="content"><code class="go">package cmd

import (
	&quot;fmt&quot;
	&quot;github.com/spf13/cobra&quot;
	&quot;os&quot;
)

// `go-cobra-demo`是这个命令行工具的名字（而不是里面的一个command），它应该跟对应的目录同名（但本项目使用了不同的名字`go-cobra-demo`）
//  下面的介绍也是针对这个工具本身的
// 可以通过 `hugo --help` 查看到
var rootCmd = &amp;cobra.Command{
	Use:   &quot;go-cobra-demo&quot;,
	Short: &quot;Simple demo of cobra&quot;,
	Long:  `This is a very simple demo for cobra, you can see more at: https://github.com/spf13/cobra`,
	Run: func(cmd *cobra.Command, args []string) {
		fmt.Println(&quot;hello cobra!&quot;)
	},
}

func Execute() {
	if err := rootCmd.Execute(); err != nil {
		fmt.Println(err)
		os.Exit(1)
	}
}
</code></pre>
          </div>
        </div>
        <div class="code-file panel markdown-body">
          <div class="header">
            <div class="name"><a href="https://github.com/golang-demos/go-cobra-demo/blob/master/cmd/version.go" target="_blank">version.go</a></div>
            <div class="path">cmd/version.go</div>
          </div>
          <div class="body">
            <pre class="content"><code class="go">package cmd

import &quot;github.com/spf13/cobra&quot;

func init() {
	rootCmd.AddCommand(versionCmd)
}

var versionCmd = &amp;cobra.Command{
	Use:   &quot;version&quot;,
	Short: &quot;Show version&quot;,
	Long:  `Show version of this application`,
	Run: func(cmd *cobra.Command, args []string) {
		println(&quot;v1.0.0&quot;)
	},
}
</code></pre>
          </div>
        </div>
        <div class="code-file panel markdown-body">
          <div class="header">
            <div class="name"><a href="https://github.com/golang-demos/go-cobra-demo/blob/master/main.go" target="_blank">main.go</a></div>
            <div class="path">main.go</div>
          </div>
          <div class="body">
            <pre class="content"><code class="go">package main

import (
	&quot;github.com/golang-demos/go-cobra-demo/cmd&quot;
)

func main() {
	cmd.Execute()
}
</code></pre>
          </div>
        </div>
        <div class="github markdown-body"><span class="github-icon"><img src="/images/github.jpg"></span><span class="repo-url"><a href="https://github.com/golang-demos/go-cobra-demo">打开Github项目地址</a></span><span class="repo-issues"><a href="https://github.com/golang-demos/go-cobra-demo/issues?q=">有问题上Github Issues上讨论</a></span></div>
      </div>
    </div>
    <script src="/js/site.js"></script>
    <script type="javascript" src="https://s13.cnzz.com/z_stat.php?id=1274292847&amp;web_id=1274292847"></script>
  </body>
</html>
