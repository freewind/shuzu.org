<html>
<head>
    <title>dockerfile-hello-world-demo - 数组网</title>
    <link rel="stylesheet" href="../../css/site.css">
    <link rel="stylesheet" href="../../css/github-markdown-2.10.0.css">
    <script src="../../js/showdown-1.8.6.min.js"></script>
</head>
<body>

<div id="demo-header">
    <div class="site-slogan">dockerfile-hello-world-demo</div>
</div>

<div class="github center-in-page markdown-body">
    <span class="repo-url">
        <a href="https://github.com/freewind-demos/dockerfile-hello-world-demo">打开Github项目地址</a>
    </span>
    <span class="repo-issues">
        <a href="https://github.com/freewind-demos/dockerfile-hello-world-demo/issues?q=">有疑问上Github Issues上讨论</a>
    </span>
</div>

<div id="readme" class="center-in-page">
    <div class="markdown markdown-body">
        Dockerfile Hello World Demo
===========================

首先安装好docker，然后执行：

```
docker build -t my-hello-world-docker .
```

由于我们例子中使用了`nginx`这个基础image，所以会先下载nginx image，在国内的话，时间可能会有点久。

如果已经下载过，则输出是这样的：

```
Sending build context to Docker daemon  22.53kB
Step 1/2 : FROM nginx
 ---&gt; 06144b287844
Step 2/2 : RUN echo &#39;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&#39; &gt; /usr/share/nginx/html/index.html
 ---&gt; Using cache
 ---&gt; 06a2a5145cd4
Successfully built 06a2a5145cd4
Successfully tagged my-hello-world-docker:latest
```

创建了一个名为`my-hello-world-docker:latest`的image。

运行
---

```
docker run -p 8080:80 my-hello-world-docker
```

其中`-p 8080:80`意思是，把宿主机的`8080`端口映射到`my-hello-world-docker` container的`80`端口（即nginx的端口）。

在Ubuntu下，宿主机就是Ubuntu自己，所以访问`curl http://localhost:8080`，就能得到回复`&lt;h1&gt;Hello, Docker!&lt;/h1&gt;`。

而在Mac中，宿主机是docker-machine创建的虚拟机。如果当前使用的是`default`虚拟机，我们需要先运行`docker-machine ip`得到的其ip（此处为`192.168.99.100`），
然后访问`curl http://192.168.99.100:8080`，也能得到正确的回复`&lt;h1&gt;Hello, Docker!&lt;/h1&gt;`
    </div>
</div>

<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <span class="parent-path"></span>
        <span class="name">
            <a href="https://github.com/freewind-demos/dockerfile-hello-world-demo/blob/master/Dockerfile" target="_blank" title="show github file">Dockerfile</a>
        </span>
    </div>
    <div class="body">
        <pre class="content"><code class="Dockerfile">FROM nginx
RUN echo &#39;&lt;h1&gt;Hello, Docker!&lt;/h1&gt;&#39; &gt; /usr/share/nginx/html/index.html
</code></pre>
    </div>
</div>

<div class="github center-in-page markdown-body">
    <span class="repo-url">
        <a href="https://github.com/freewind-demos/dockerfile-hello-world-demo">打开Github项目地址</a>
    </span>
    <span class="repo-issues">
        <a href="https://github.com/freewind-demos/dockerfile-hello-world-demo/issues?q=">有疑问上Github Issues上讨论</a>
    </span>
</div>

<script src="../../js/site.js"></script>
<script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1274292847'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s13.cnzz.com/z_stat.php%3Fid%3D1274292847' type='text/javascript'%3E%3C/script%3E"));

</script>
</body>
</html>