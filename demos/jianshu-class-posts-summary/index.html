<html>
<head>
    <title>jianshu-class-posts-summary - 数组网</title>
    <link rel="stylesheet" href="../../css/site.css">
    <link rel="stylesheet" href="../../css/github-markdown-2.10.0.css">
    <script src="../../js/showdown-1.8.6.min.js"></script>
</head>
<body>

<div id="demo-header">
    <div class="site-slogan">jianshu-class-posts-summary</div>
</div>

<div id="readme" class="center-in-page">
    <div class="markdown markdown-body">
        Generate Jianshu Posts Information
==================================

```
brew install sbt
```
    </div>
</div>

<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/project/plugins.sbt" target="_blank" title="show github file">plugins.sbt</a>
        </div>
        <div class="path">project/plugins.sbt</div>
    </div>
    <div class="body">
        <pre class="content"><code class="sbt">resolvers += &quot;Sonatype snapshots&quot; at &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot;

addSbtPlugin(&quot;com.github.mpeltonen&quot; %% &quot;sbt-idea&quot; % &quot;1.7.0-SNAPSHOT&quot;)</code></pre>
    </div>
</div>
<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/build.sbt" target="_blank" title="show github file">build.sbt</a>
        </div>
        <div class="path">build.sbt</div>
    </div>
    <div class="body">
        <pre class="content"><code class="sbt">name := &quot;jianshu-class-posts-summary&quot;

version := &quot;1.0&quot;

organization := &quot;org.my&quot;

scalaVersion := &quot;2.11.0&quot;

sbtVersion := &quot;0.13.5&quot;

resolvers ++= Seq(
  &quot;aliyun&quot; at &quot;http://maven.aliyun.com/nexus/content/groups/public/&quot;,
  &quot;Sonatype releases&quot; at &quot;http://oss.sonatype.org/content/repositories/releases&quot;
)

libraryDependencies ++= Seq(
  &quot;org.apache.commons&quot; % &quot;commons-lang3&quot; % &quot;3.3.2&quot;,
  &quot;org.scala-lang.modules&quot; %% &quot;scala-xml&quot; % &quot;1.0.6&quot;,
  &quot;net.ruippeixotog&quot; %% &quot;scala-scraper&quot; % &quot;1.1.0&quot;
)
</code></pre>
    </div>
</div>
<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/src/main/scala/in/freewind/jianshu/ArticlePages.scala" target="_blank" title="show github file">ArticlePages.scala</a>
        </div>
        <div class="path">src/main/scala/in/freewind/jianshu/ArticlePages.scala</div>
    </div>
    <div class="body">
        <pre class="content"><code class="scala">package in.freewind.jianshu

import java.text.SimpleDateFormat

import net.ruippeixotog.scalascraper.browser.JsoupBrowser
import net.ruippeixotog.scalascraper.dsl.DSL.Extract._
import net.ruippeixotog.scalascraper.dsl.DSL._
import net.ruippeixotog.scalascraper.model.{Document, Element}
import net.ruippeixotog.scalascraper.scraper.ContentExtractors.{element =&gt; _, elementList =&gt; _}
import org.apache.commons.lang3.StringUtils
import net.ruippeixotog.scalascraper.dsl.DSL._
import net.ruippeixotog.scalascraper.dsl.DSL.Extract._
import net.ruippeixotog.scalascraper.dsl.DSL.Parse._

object ArticlePages {

  def getAllArticles(userId: String): List[Article] = {
    val pages = Stream.from(1).map(page =&gt; ArticlePages.findArticlesOnPage(userId, page))
      .takeWhile(articlesOnPage =&gt; articlesOnPage.nonEmpty)
    pages.map(_.getOrElse(List.empty)).toList.flatten
  }

  private def getArticleId(href: String): Option[String] = {
    &quot;&quot;&quot;/p/(.*)&quot;&quot;&quot;.r.findFirstMatchIn(href).map(_.group(1))
  }

  private def getCount(meta: Element, keyClass: String): Option[Int] = {
    meta.children
      .find(child =&gt; (child &gt;?&gt; element(s&quot;i.$keyClass&quot;)).isDefined)
      .map(_.text.trim.toInt)
  }

  def isArticleTabActive(doc: Document): Boolean = {
    (doc &gt;&gt; element(&quot;.trigger-menu .active&quot;))
      .exists(li =&gt; (li &gt;?&gt; element(&quot;.ic-articles&quot;)).isDefined)
  }

  def findArticlesOnPage(userId: String, page: Int): Option[List[Article]] = {
    val browser = JsoupBrowser()
    val url = s&quot;http://www.jianshu.com/u/$userId?page=$page&quot;
    val doc = browser.get(url)
    if (isArticleTabActive(doc)) {
      val listContainer = doc &gt;&gt; element(&quot;#list-container&quot;)
      val articleElements = listContainer &gt;&gt; elementList(&quot;.note-list li&quot;)
      val articles = articleElements.map { article =&gt;
        val articleTitleLink = article &gt;&gt; element(&quot;a.title&quot;)
        val title = articleTitleLink.text
        val idOpt = getArticleId(articleTitleLink.attr(&quot;href&quot;))
        val footer = article &gt;&gt; element(&quot;.meta&quot;)
        val reads = getCount(footer, &quot;ic-list-read&quot;).getOrElse(0)
        val comments = getCount(footer, &quot;ic-list-comments&quot;).getOrElse(0)
        val likes = getCount(footer, &quot;ic-list-like&quot;).getOrElse(0)
        val sharedAtTime = (article &gt;&gt; element(&quot;.time&quot;)).attr(&quot;data-shared-at&quot;)
        val sharedDate = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(StringUtils.substringBefore(sharedAtTime, &quot;T&quot;))
        Article(id = idOpt.get, title = title, reads = reads, comments = comments, likes = likes, sharedDate = sharedDate)
      }
      println(s&quot;Found ${articleElements.size} articles on page: ${url}&quot;)
      Some(articles)
    } else None
  }
}

object Main extends App {
  ArticlePages.getAllArticles(&quot;6d96978eeefb&quot;)
}
</code></pre>
    </div>
</div>
<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/src/main/scala/in/freewind/jianshu/XiyouApp.scala" target="_blank" title="show github file">XiyouApp.scala</a>
        </div>
        <div class="path">src/main/scala/in/freewind/jianshu/XiyouApp.scala</div>
    </div>
    <div class="body">
        <pre class="content"><code class="scala">package in.freewind.jianshu

import java.io.File
import java.text.SimpleDateFormat
import java.util.Date

import in.freewind.jianshu.reports.{RecentArticleReport, SummaryReport}
import net.ruippeixotog.scalascraper.scraper.ContentExtractors.{element =&gt; _, elementList =&gt; _}

object XiyouApp extends App {

  val users = List(
    User(&quot;豆清&quot;, &quot;f38e29b52911&quot;, &quot;韩亦乐&quot;, Nil),
    User(&quot;杨慧莉&quot;, &quot;f21e72979655&quot;, &quot;韩亦乐&quot;, Nil),
    User(&quot;张甜&quot;, &quot;5bc106cbc4c2&quot;, &quot;杨战美&quot;, Nil),
    User(&quot;焦齐齐&quot;, &quot;619d2f2d1eff&quot;, &quot;杨战美&quot;, Nil),
    User(&quot;朱悦萱&quot;, &quot;ecbc46d12bea&quot;, &quot;赵彤&quot;, Nil),
    User(&quot;鱼娟&quot;, &quot;d655df650fab&quot;, &quot;杨战美&quot;, Nil),
    User(&quot;李佩赏&quot;, &quot;b585df8b02c3&quot;, &quot;自己&quot;, Nil),
    User(&quot;刘祎琳&quot;, &quot;16b071109758&quot;, &quot;赵彤&quot;, Nil),
    User(&quot;周婕&quot;, &quot;5db20fc9f635&quot;, &quot;李妍&quot;, Nil),
    User(&quot;白颖&quot;, &quot;0f382636485d&quot;, &quot;赵彤&quot;, Nil),
    User(&quot;黄丽珍&quot;, &quot;07120665a058&quot;, &quot;李佩赏&quot;, Nil),
    User(&quot;韩亦乐&quot;, &quot;ecbf49bf207b&quot;, &quot;自己&quot;, Nil),
    User(&quot;胡婷婷&quot;, &quot;5e21d37865b7&quot;, &quot;李妍&quot;, Nil),
    User(&quot;李玫颖&quot;, &quot;4744b69eff3c&quot;, &quot;姚怡&quot;, Nil),
    User(&quot;李杨帆&quot;, &quot;0583448c0477&quot;, &quot;姚怡&quot;, Nil),
    User(&quot;赵彤&quot;, &quot;034ddfc875c4&quot;, &quot;自己&quot;, Nil),
    User(&quot;杨战美&quot;, &quot;596e1b114d62&quot;, &quot;自己&quot;, Nil),
    User(&quot;李妍&quot;, &quot;6bff0dd3cde1&quot;, &quot;自己&quot;, Nil),
    User(&quot;余帆&quot;, &quot;bbeb712a0d8b&quot;, &quot;李佩赏&quot;, Nil),
    User(&quot;姚怡&quot;, &quot;37b5a58937c6&quot;, &quot;自己&quot;, Nil),
    User(&quot;王雨萱&quot;, &quot;bb657db58c5e&quot;, &quot;韩亦乐&quot;, Nil),
    User(&quot;刘洋&quot;, &quot;65e145f23779&quot;, &quot;李妍&quot;, Nil),
    User(&quot;李婷婷&quot;, &quot;ea4d8d62c629&quot;, &quot;李佩赏&quot;, Nil),
    User(&quot;陈颖&quot;, &quot;508d15da87d7&quot;, &quot;姚怡&quot;, Nil)
  ).map(user =&gt; {
    user.copy(articles = ArticlePages.getAllArticles(user.jianshuId))
  })

  def parseDate(dateStr: String): Date = {
    new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(dateStr)
  }

  SummaryReport.render(users.sortBy(u =&gt; -u.articles.size), &quot;Team Lead&quot;, new File(&quot;./reports/xiyou-summary.html&quot;))
  RecentArticleReport.render(users.sortBy(u =&gt; u.articles.map(_.comments).sum), showEmptyUsers = true, buddyTitle = &quot;Team Lead&quot;, fromDate = parseDate(Config.afterDate), targetFile = new File(&quot;./reports/xiyou-recent-articles0.html&quot;))
  RecentArticleReport.render(users.sortBy(u =&gt; u.articles.map(_.comments).sum), showEmptyUsers = false, buddyTitle = &quot;Team Lead&quot;, fromDate = parseDate(Config.afterDate), targetFile = new File(&quot;./reports/xiyou-recent-articles.html&quot;))
}



</code></pre>
    </div>
</div>
<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/src/main/scala/in/freewind/jianshu/reports/utils.scala" target="_blank" title="show github file">utils.scala</a>
        </div>
        <div class="path">src/main/scala/in/freewind/jianshu/reports/utils.scala</div>
    </div>
    <div class="body">
        <pre class="content"><code class="scala">package in.freewind.jianshu.reports

import java.io.File

import org.apache.commons.io.FileUtils
import org.apache.commons.lang3.StringUtils

object utils {
  def applyTemplate(content: String, targetFile: File): Unit = {
    val finalContent = StringUtils.replace(readTemplate(), &quot;{{{table}}}&quot;, content)
    writeToFile(finalContent, targetFile)
    println(&quot;Wrote to file: &quot; + targetFile)
  }

  private def readTemplate(): String = {
    val templateFile = new File(&quot;./src/main/resources/report-template.html&quot;)
    FileUtils.readFileToString(templateFile, &quot;UTF-8&quot;)
  }

  private def writeToFile(content: String, targetFile: File) {
    FileUtils.writeStringToFile(targetFile, content, &quot;UTF-8&quot;)
  }

}
</code></pre>
    </div>
</div>
<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/src/main/scala/in/freewind/jianshu/reports/SummaryReport.scala" target="_blank" title="show github file">SummaryReport.scala</a>
        </div>
        <div class="path">src/main/scala/in/freewind/jianshu/reports/SummaryReport.scala</div>
    </div>
    <div class="body">
        <pre class="content"><code class="scala">package in.freewind.jianshu.reports

import java.io.File

import in.freewind.jianshu.User

object SummaryReport {

  def render(users: List[User], buddyTitle: String, targetFile: File) {
    val content = generateReport(users, buddyTitle)
    utils.applyTemplate(content, targetFile)
  }

  def generateReport(users: List[User], buddyTitle: String) = {
    val table = &lt;table&gt;
      &lt;thead&gt;
        &lt;tr&gt;
          &lt;th&gt;序号&lt;/th&gt;
          &lt;th&gt;姓名&lt;/th&gt;
          &lt;th&gt;文章数&lt;/th&gt;
          &lt;th&gt;阅读量&lt;/th&gt;
          &lt;th&gt;收到评论&lt;/th&gt;
          &lt;th&gt;收到喜欢&lt;/th&gt;
          &lt;th&gt;{buddyTitle}姓名&lt;/th&gt;
        &lt;/tr&gt;
      &lt;/thead&gt;
      &lt;tbody&gt;
        {users.zipWithIndex.map { case (user, index) =&gt;
        &lt;tr&gt;
          &lt;td&gt;{index + 1}&lt;/td&gt;
          &lt;td&gt;&lt;a href={user.jianshuUrl}&gt;{user.name}&lt;/a&gt;&lt;/td&gt;
          &lt;td&gt;{user.articles.size}&lt;/td&gt;
          &lt;td&gt;{user.articles.map(_.reads).sum}&lt;/td&gt;
          &lt;td&gt;{user.articles.map(_.comments).sum}&lt;/td&gt;
          &lt;td&gt;{user.articles.map(_.likes).sum}&lt;/td&gt;
          &lt;td&gt;{user.buddyName}&lt;/td&gt;
        &lt;/tr&gt;
      }}
      &lt;/tbody&gt;
    &lt;/table&gt;
    xml.Utility.trim(table).toString
  }

}
</code></pre>
    </div>
</div>
<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/src/main/scala/in/freewind/jianshu/reports/RecentArticleReport.scala" target="_blank" title="show github file">RecentArticleReport.scala</a>
        </div>
        <div class="path">src/main/scala/in/freewind/jianshu/reports/RecentArticleReport.scala</div>
    </div>
    <div class="body">
        <pre class="content"><code class="scala">package in.freewind.jianshu.reports

import java.io.File
import java.text.SimpleDateFormat
import java.util.Date

import in.freewind.jianshu.User

object RecentArticleReport {

  def render(users: List[User], showEmptyUsers: Boolean, buddyTitle: String, fromDate: Date, targetFile: File) {
    val filteredUsers = users
      .map(user =&gt; user.copy(articles = user.articles.filter(_.sharedDate.after(fromDate))))
      .filter(user =&gt; user.articles.nonEmpty || (user.articles.isEmpty &amp;&amp; showEmptyUsers))
      .sortBy(_.buddyName)
    println(&quot;Total posts: &quot; + filteredUsers.flatMap(_.articles).size)
    val content = generateReport(filteredUsers, buddyTitle, fromDate)
    utils.applyTemplate(content, targetFile)
  }

  def generateReport(users: List[User], buddyTitle: String, fromDate: Date): String = {
    val html = &lt;div&gt;
      &lt;h1&gt;从{formatDate(fromDate)}到今天{formatDate(new Date())}所发布的文章&lt;/h1&gt;
      &lt;div&gt;
        &lt;ul&gt;{
        users.zipWithIndex.map { case (user, index) =&gt;
          &lt;li&gt;
            &lt;div&gt;
              &lt;span&gt;&lt;a href={user.jianshuUrl}&gt;{user.name}&lt;/a&gt;&lt;/span&gt;
              &lt;span&gt; &amp;nbsp; &amp;nbsp; &amp;nbsp; &lt;/span&gt;
              &lt;span&gt; ({buddyTitle}: {user.buddyName})&lt;/span&gt;&lt;/div&gt;
              &lt;ol&gt;
                {user.articles match {
                case articles if articles.isEmpty =&gt; &lt;li&gt;无&lt;/li&gt;
                case articles =&gt; articles.map(article =&gt; {
                  &lt;li&gt;
                    &lt;a href={article.url}&gt;{article.title}&lt;/a&gt;
                    &lt;span&gt;&amp;nbsp; &amp;nbsp;&lt;/span&gt;
                    &lt;span&gt;{formatDate(article.sharedDate)}&lt;/span&gt;
                  &lt;/li&gt;
                })
              }}
              &lt;/ol&gt;
          &lt;/li&gt;
        }
        }&lt;/ul&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    xml.Utility.trim(html).toString
  }

  def formatDate(date: Date) = {
    new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(date)
  }

}
</code></pre>
    </div>
</div>
<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/src/main/scala/in/freewind/jianshu/DaJiangTangApp.scala" target="_blank" title="show github file">DaJiangTangApp.scala</a>
        </div>
        <div class="path">src/main/scala/in/freewind/jianshu/DaJiangTangApp.scala</div>
    </div>
    <div class="body">
        <pre class="content"><code class="scala">package in.freewind.jianshu

import java.io.File
import java.text.SimpleDateFormat
import java.util.Date

import in.freewind.jianshu.reports.{RecentArticleReport, SummaryReport}
import net.ruippeixotog.scalascraper.scraper.ContentExtractors.{element =&gt; _, elementList =&gt; _}

object DaJiangTangApp extends App {

  val users = List(
    User(&quot;谭艺冰&quot;, &quot;a6b3075161bd&quot;, &quot;李彤欣&quot;, Nil),
    User(&quot;吴立宁&quot;, &quot;45e7b3524cf0&quot;, &quot;曹宇鹏&quot;, Nil),
    User(&quot;李天&quot;, &quot;2823d35ef6d5&quot;, &quot;王运&quot;, Nil),
    User(&quot;郭茹&quot;, &quot;54aa25d86396&quot;, &quot;朱榕&quot;, Nil),
    User(&quot;安洋&quot;, &quot;b2d6a8f9b5a7&quot;, &quot;曹宇鹏&quot;, Nil),
    User(&quot;谭雅翔&quot;, &quot;72970fc87336&quot;, &quot;孙进&quot;, Nil),
    User(&quot;王丹娜&quot;, &quot;4c0a06c8a1f9&quot;, &quot;朱榕&quot;, Nil),
    User(&quot;游茹玉&quot;, &quot;f9058daafe41&quot;, &quot;孙进&quot;, Nil),
    User(&quot;张培&quot;, &quot;46a98ec591f2&quot;, &quot;李燕子&quot;, Nil),
    User(&quot;王张军&quot;, &quot;71022f2e6c77&quot;, &quot;周婧&quot;, Nil),
    User(&quot;王渊博&quot;, &quot;52927c3889fd&quot;, &quot;赵文博&quot;, Nil),
    User(&quot;付红&quot;, &quot;aa813305d667&quot;, &quot;张羽辰&quot;, Nil),
    User(&quot;赵琪琪&quot;, &quot;2db65e841261&quot;, &quot;李燕子&quot;, Nil),
    User(&quot;马红&quot;, &quot;9a316c32b7f1&quot;, &quot;陈洋&quot;, Nil),
    User(&quot;骆承秀&quot;, &quot;f5de73654f02/&quot;, &quot;周婧&quot;, Nil),
    User(&quot;刘涛&quot;, &quot;276446dd8c0a&quot;, &quot;陈洋&quot;, Nil),
    User(&quot;祁燕子&quot;, &quot;57e9a7f46b24&quot;, &quot;周婧&quot;, Nil),
    User(&quot;宁润婷&quot;, &quot;ad065eec8811&quot;, &quot;阎昱&quot;, Nil),
    User(&quot;程雨柔&quot;, &quot;38cc9391d17d&quot;, &quot;陈洋&quot;, Nil),
    User(&quot;冯雯&quot;, &quot;6f0e582882ba&quot;, &quot;孙进&quot;, Nil),
    User(&quot;邱敏敏&quot;, &quot;b49e2048bab0&quot;, &quot;薛倩&quot;, Nil),
    User(&quot;李爽祺&quot;, &quot;ea4648bc3d08&quot;, &quot;玛莉&quot;, Nil),
    User(&quot;秦臻&quot;, &quot;a5757b7c55fe&quot;, &quot;赵文博&quot;, Nil),
    User(&quot;汪之涛&quot;, &quot;c5ccc9f40501&quot;, &quot;玛莉&quot;, Nil),
    User(&quot;张从飞&quot;, &quot;9ce3426fdb1c&quot;, &quot;袁慎建&quot;, Nil),
    User(&quot;李玥&quot;, &quot;389f478c92c8&quot;, &quot;玛莉&quot;, Nil),
    User(&quot;张颖嘉&quot;, &quot;b2cf132f508d&quot;, &quot;张志慧&quot;, Nil),
    User(&quot;王柏元&quot;, &quot;ef49e6b7ec1e&quot;, &quot;张晓飞&quot;, Nil),
    User(&quot;李英健&quot;, &quot;3c682ea44ee2&quot;, &quot;屈鉴铭&quot;, Nil),
    User(&quot;王亚鑫&quot;, &quot;048f932015bc&quot;, &quot;屈鉴铭&quot;, Nil),
    User(&quot;党森&quot;, &quot;edc9e5b7ce20&quot;, &quot;李彤欣&quot;, Nil),
    User(&quot;邵娜娜&quot;, &quot;17f27b3e3233&quot;, &quot;王运&quot;, Nil),
    User(&quot;王普&quot;, &quot;b26a523e3d60&quot;, &quot;张羽辰&quot;, Nil),
    User(&quot;陈娟娟&quot;, &quot;0bd3779cf676&quot;, &quot;薛倩&quot;, Nil),
    User(&quot;贾祎恺&quot;, &quot;ff02b6e2b83f&quot;, &quot;朱榕&quot;, Nil),
    User(&quot;何疆乐&quot;, &quot;ab3e5acc3f2c&quot;, &quot;严嘉阳&quot;, Nil),
    User(&quot;刘俊男&quot;, &quot;585fc558d5bc&quot;, &quot;李燕子&quot;, Nil),
    User(&quot;燕春翔&quot;, &quot;6fc9411d1f1f&quot;, &quot;张志慧&quot;, Nil),
    User(&quot;黄炎&quot;, &quot;4ce7460cc2f4&quot;, &quot;申彤&quot;, Nil),
    User(&quot;张哲雯&quot;, &quot;8f4a554c29e8&quot;, &quot;张翔&quot;, Nil),
    User(&quot;刘本庆&quot;, &quot;5a2675fba15e&quot;, &quot;曹宇鹏&quot;, Nil),
    User(&quot;张琮&quot;, &quot;28f9a2e97e4d&quot;, &quot;薛倩&quot;, Nil),
    User(&quot;李优优&quot;, &quot;ca35fbe16b4f&quot;, &quot;申彤&quot;, Nil),
    User(&quot;耿团团&quot;, &quot;d4b0a0f96fe8&quot;, &quot;张翔&quot;, Nil),
    User(&quot;杨琛璐&quot;, &quot;4f36a8b0a33a&quot;, &quot;张羽辰&quot;, Nil),
    User(&quot;王平升&quot;, &quot;610f62fc5cf1&quot;, &quot;屈鉴铭&quot;, Nil),
    User(&quot;薛妮&quot;, &quot;061cb0850ee2&quot;, &quot;申彤&quot;, Nil),
    User(&quot;梁法成&quot;, &quot;7d8bb76cfe4f&quot;, &quot;阎昱&quot;, Nil),
    User(&quot;谷楠楠&quot;, &quot;f111ef01770a&quot;, &quot;阎昱&quot;, Nil),
    User(&quot;张苗&quot;, &quot;b14cbd37028f&quot;, &quot;张晓飞&quot;, Nil)
  ).map(user =&gt; {
    user.copy(articles = ArticlePages.getAllArticles(user.jianshuId))
  })

  def parseDate(dateStr: String): Date = {
    new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(dateStr)
  }

  SummaryReport.render(users.sortBy(u =&gt; -u.articles.size), &quot;小buddy&quot;, new File(&quot;./reports/dajiantang-summary.html&quot;))
  RecentArticleReport.render(users.sortBy(u =&gt; u.articles.map(_.comments).sum), showEmptyUsers = true, buddyTitle = &quot;小buddy&quot;, fromDate = parseDate(Config.afterDate), targetFile = new File(&quot;./reports/dajiantang-recent-articles0.html&quot;))
  RecentArticleReport.render(users.sortBy(u =&gt; u.articles.map(_.comments).sum), showEmptyUsers = false, buddyTitle = &quot;小buddy&quot;, fromDate = parseDate(Config.afterDate), targetFile = new File(&quot;./reports/dajiantang-recent-articles.html&quot;))

}



</code></pre>
    </div>
</div>
<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/src/main/scala/in/freewind/jianshu/MyTest.scala" target="_blank" title="show github file">MyTest.scala</a>
        </div>
        <div class="path">src/main/scala/in/freewind/jianshu/MyTest.scala</div>
    </div>
    <div class="body">
        <pre class="content"><code class="scala">package in.freewind.jianshu

import java.text.SimpleDateFormat

object MyTest extends App {

  //  val s = 1 #:: 2 #:: Stream.empty

  val s = Stream.from(1).map(x =&gt; x * x).takeWhile(p =&gt; p &lt; 100)
  println(s.toList)


}
</code></pre>
    </div>
</div>
<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/src/main/scala/in/freewind/jianshu/models.scala" target="_blank" title="show github file">models.scala</a>
        </div>
        <div class="path">src/main/scala/in/freewind/jianshu/models.scala</div>
    </div>
    <div class="body">
        <pre class="content"><code class="scala">package in.freewind.jianshu

import java.util.Date

case class User(name: String, jianshuId: String, buddyName: String, articles: List[Article]) {
  val jianshuUrl = s&quot;http://jianshu.com/users/$jianshuId&quot;
}

case class Article(id: String, title: String, reads: Int, comments: Int, likes: Int, sharedDate: Date) {
  val url = s&quot;http://jianshu.com/p/$id&quot;
}
</code></pre>
    </div>
</div>
<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/src/main/scala/in/freewind/jianshu/Config.scala" target="_blank" title="show github file">Config.scala</a>
        </div>
        <div class="path">src/main/scala/in/freewind/jianshu/Config.scala</div>
    </div>
    <div class="body">
        <pre class="content"><code class="scala">package in.freewind.jianshu

object Config {

  val afterDate = &quot;2016-12-10&quot;

}
</code></pre>
    </div>
</div>
<div class="code-file center-in-page panel markdown-body">
    <div class="header">
        <div class="name">
            <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/blob/master/src/main/resources/report-template.html" target="_blank" title="show github file">report-template.html</a>
        </div>
        <div class="path">src/main/resources/report-template.html</div>
    </div>
    <div class="body">
        <pre class="content"><code class="html">&lt;!doctype html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&#39;UTF-8&#39;&gt;
    &lt;meta name=&#39;viewport&#39; content=&#39;width=device-width initial-scale=1&#39;&gt;
    &lt;title&gt;简书文章统计&lt;/title&gt;
    &lt;link href=&#39;http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&amp;subset=latin,latin-ext&#39;
          rel=&#39;stylesheet&#39; type=&#39;text/css&#39;&gt;
    &lt;style type=&#39;text/css&#39;&gt;html, body {overflow-x: initial !important;}html { font-size: 14px; background-color: rgb(255, 255, 255); color: rgb(51, 51, 51); }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-family: &#39;Helvetica Neue&#39;, Helvetica, Arial, sans-serif; font-size: 1rem; line-height: 1.42857143; overflow-x: hidden; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; background-position: inherit inherit; background-repeat: inherit inherit; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { background-color: rgb(181, 214, 252); text-shadow: none; background-position: initial initial; background-repeat: initial initial; }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; padding-bottom: 70px; white-space: pre-wrap; overflow-x: auto; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
.typora-export #write { margin: 0px auto; }
#write &gt; p:first-child, #write &gt; ul:first-child, #write &gt; ol:first-child, #write &gt; pre:first-child, #write &gt; blockquote:first-child, #write &gt; div:first-child, #write &gt; table:first-child { margin-top: 30px; }
#write li &gt; table:first-child { margin-top: -20px; }
img { max-width: 100%; vertical-align: middle; }
input, button, select, textarea { color: inherit; font-family: inherit; font-size: inherit; font-style: inherit; font-variant-caps: inherit; font-weight: inherit; line-height: inherit; }
input[type=&quot;checkbox&quot;], input[type=&quot;radio&quot;] { line-height: normal; padding: 0px; }
::before, ::after, * { box-sizing: border-box; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write div, #write pre { width: inherit; }
#write p, #write h1, #write h2, #write h3, #write h4, #write h5, #write h6 { position: relative; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
p { -webkit-margin-before: 1rem; -webkit-margin-after: 1rem; -webkit-margin-start: 0px; -webkit-margin-end: 0px; }
.mathjax-block { margin-top: 0px; margin-bottom: 0px; -webkit-margin-before: 0rem; -webkit-margin-after: 0rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: bold; font-style: italic; }
a { cursor: pointer; }
#write input[type=&quot;checkbox&quot;] { cursor: pointer; width: inherit; height: inherit; margin: 4px 0px 0px; }
tr { page-break-inside: avoid; page-break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; page-break-inside: auto; text-align: left; }
table.md-table td { min-width: 80px; }
.CodeMirror-gutters { border-right-width: 0px; background-color: inherit; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
pre { white-space: pre-wrap; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; page-break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background-image: inherit; background-size: inherit; background-attachment: inherit; background-origin: inherit; background-clip: inherit; background-color: inherit; position: relative !important; background-position: inherit inherit; background-repeat: inherit inherit; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
.md-fences .CodeMirror.CodeMirror-wrap { top: -1.6em; margin-bottom: -1.6em; }
.md-fences.mock-cm { white-space: pre-wrap; }
.show-fences-line-number .md-fences { padding-left: 0px; }
.show-fences-line-number .md-fences.mock-cm { padding-left: 40px; }
.footnotes { opacity: 0.8; font-size: 0.9rem; padding-top: 1em; padding-bottom: 1em; }
.footnotes + .footnotes { margin-top: -1em; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background-color: transparent; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; line-height: normal; font-weight: normal; text-align: left; box-sizing: content-box; direction: ltr; background-position: initial initial; background-repeat: initial initial; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li p, li .mathjax-block { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote &gt; :last-child { margin-bottom: 0px; }
blockquote &gt; :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; }
@media print {
  html, body { height: 100%; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  h1, h2, h3, h4, h5, h6 { page-break-after: avoid; break-after: avoid-page; orphans: 2; }
  p { orphans: 4; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 1cm; padding-right: 1cm; }
  .typora-export #write::after { height: 0px; }
  @page { margin: 20mm 0mm; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 2.86rem; white-space: pre-wrap; background-color: rgb(204, 204, 204); display: block; overflow-x: hidden; background-position: initial initial; background-repeat: initial initial; }
p .md-image:only-child { display: inline-block; width: 100%; text-align: center; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.mathjax-block { white-space: pre; overflow: hidden; width: 100%; }
p + .mathjax-block { margin-top: -1.143rem; }
.mathjax-block:not(:empty)::after { display: none; }
[contenteditable=&quot;true&quot;]:active, [contenteditable=&quot;true&quot;]:focus { outline: none; box-shadow: none; }
.task-list { list-style-type: none; }
.task-list-item { position: relative; padding-left: 1em; }
.task-list-item input { position: absolute; top: 0px; left: 0px; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-top-left-radius: 10px; border-top-right-radius: 10px; border-bottom-right-radius: 10px; border-bottom-left-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc::after, .md-toc-content::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); text-decoration: none; }
.md-toc-inner:hover { }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: bold; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: &#39;.&#39;; }
.md-tag { opacity: 0.5; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: monospace; }
code { text-align: left; }
h1 .md-tag, h2 .md-tag, h3 .md-tag, h4 .md-tag, h5 .md-tag, h6 .md-tag { font-weight: initial; opacity: 0.35; }
a.md-print-anchor { border: none !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: none !important; background-color: transparent !important; text-shadow: initial !important; background-position: initial initial !important; background-repeat: initial initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.mathjax-block .MathJax_SVG_Display { text-align: center; margin: 1em 0em; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: monospace; }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: normal; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { -webkit-transition: none; transition: none; }


@include-when-export url(http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,700,400&amp;subset=latin,latin-ext);

/**
 * css forked from https://github.com/GitbookIO/gitbook
 * www.gitbook.com
 * Apache License
 * https://github.com/GitbookIO/gitbook/blob/master/LICENSE
 **/

@font-face {
    font-family: &#39;Open Sans&#39;;
    font-style: normal;
    font-weight: normal;
    src: local(&#39;Open Sans Regular&#39;),url(&#39;file:///Users/twer/Library/Application%20Support/abnerworks.Typora/themes/github/400.woff&#39;) format(&#39;woff&#39;)
}

@font-face {
    font-family: &#39;Open Sans&#39;;
    font-style: italic;
    font-weight: normal;
    src: local(&#39;Open Sans Italic&#39;),url(&#39;file:///Users/twer/Library/Application%20Support/abnerworks.Typora/themes/github/400i.woff&#39;) format(&#39;woff&#39;)
}

@font-face {
    font-family: &#39;Open Sans&#39;;
    font-style: normal;
    font-weight: bold;
    src: local(&#39;Open Sans Bold&#39;),url(&#39;file:///Users/twer/Library/Application%20Support/abnerworks.Typora/themes/github/700.woff&#39;) format(&#39;woff&#39;)
}

@font-face {
    font-family: &#39;Open Sans&#39;;
    font-style: italic;
    font-weight: bold;
    src: local(&#39;Open Sans Bold Italic&#39;),url(&#39;file:///Users/twer/Library/Application%20Support/abnerworks.Typora/themes/github/700i.woff&#39;) format(&#39;woff&#39;)
}

html {
    font-size: 16px;
}

body {
    font-family: &quot;Open Sans&quot;,&quot;Clear Sans&quot;,&quot;Helvetica Neue&quot;,Helvetica,Arial,sans-serif;
    color: rgb(51, 51, 51);
    line-height: 1.6;
}

#write{
    max-width: 860px;
  	margin: 0 auto;
  	padding: 20px 30px 40px 30px;
	padding-top: 20px;
    padding-bottom: 100px;
}
#write &gt; ul:first-child,
#write &gt; ol:first-child{
    margin-top: 30px;
}

body &gt; *:first-child {
    margin-top: 0 !important;
}
body &gt; *:last-child {
    margin-bottom: 0 !important;
}
a {
    color: #4183C4;
}
h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin-top: 1rem;
    margin-bottom: 1rem;
    font-weight: bold;
    line-height: 1.4;
    cursor: text;
}
h1:hover a.anchor,
h2:hover a.anchor,
h3:hover a.anchor,
h4:hover a.anchor,
h5:hover a.anchor,
h6:hover a.anchor {
    /*background: url(&quot;file:///Users/twer/Library/Application%20Support/images/modules/styleguide/para.png&quot;) no-repeat 10px center;*/
    text-decoration: none;
}
h1 tt,
h1 code {
    font-size: inherit;
}
h2 tt,
h2 code {
    font-size: inherit;
}
h3 tt,
h3 code {
    font-size: inherit;
}
h4 tt,
h4 code {
    font-size: inherit;
}
h5 tt,
h5 code {
    font-size: inherit;
}
h6 tt,
h6 code {
    font-size: inherit;
}
h1 {
    padding-bottom: .3em;
    font-size: 2.25em;
    line-height: 1.2;
    border-bottom: 1px solid #eee;
}
h2 {
   padding-bottom: .3em;
    font-size: 1.75em;
    line-height: 1.225;
    border-bottom: 1px solid #eee;
}
h3 {
    font-size: 1.5em;
    line-height: 1.43;
}
h4 {
    font-size: 1.25em;
}
h5 {
    font-size: 1em;
}
h6 {
   font-size: 1em;
    color: #777;
}
p,
blockquote,
ul,
ol,
dl,
table{
    margin: 0.8em 0;
}
li&gt;ol,
li&gt;ul {
    margin: 0 0;
}
hr {
    height: 4px;
    padding: 0;
    margin: 16px 0;
    background-color: #e7e7e7;
    border: 0 none;
    overflow: hidden;
    box-sizing: content-box;
    border-bottom: 1px solid #ddd;
}

body &gt; h2:first-child {
    margin-top: 0;
    padding-top: 0;
}
body &gt; h1:first-child {
    margin-top: 0;
    padding-top: 0;
}
body &gt; h1:first-child + h2 {
    margin-top: 0;
    padding-top: 0;
}
body &gt; h3:first-child,
body &gt; h4:first-child,
body &gt; h5:first-child,
body &gt; h6:first-child {
    margin-top: 0;
    padding-top: 0;
}
a:first-child h1,
a:first-child h2,
a:first-child h3,
a:first-child h4,
a:first-child h5,
a:first-child h6 {
    margin-top: 0;
    padding-top: 0;
}
h1 p,
h2 p,
h3 p,
h4 p,
h5 p,
h6 p {
    margin-top: 0;
}
li p.first {
    display: inline-block;
}
ul,
ol {
    padding-left: 30px;
}
ul:first-child,
ol:first-child {
    margin-top: 0;
}
ul:last-child,
ol:last-child {
    margin-bottom: 0;
}
blockquote {
    border-left: 4px solid #dddddd;
    padding: 0 15px;
    color: #777777;
}
blockquote blockquote {
    padding-right: 0;
}
table {
    padding: 0;
    word-break: initial;
}
#write {
    overflow-x: auto;
}
table tr {
    border-top: 1px solid #cccccc;
    background-color: white;
    margin: 0;
    padding: 0;
}
table tr:nth-child(2n) {
    background-color: #f8f8f8;
}
table tr th {
    font-weight: bold;
    border: 1px solid #cccccc;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
}
table tr td {
    border: 1px solid #cccccc;
    text-align: left;
    margin: 0;
    padding: 6px 13px;
}
table tr th:first-child,
table tr td:first-child {
    margin-top: 0;
}
table tr th:last-child,
table tr td:last-child {
    margin-bottom: 0;
}

.CodeMirror-gutters {
    border-right: 1px solid #ddd;
}

.md-fences,
code,
tt {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
    border-radius: 3px;
    padding: 0;
    font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
}

.md-fences {
    margin-bottom: 15px;
    margin-top: 15px;
    padding: 0.2em 1em;
    padding-top: 8px;
    padding-bottom: 6px;
}
.task-list{
	padding-left: 0;
}

.task-list-item {
	padding-left:32px;
}

.task-list-item input {
  top: 3px;
  left: 8px;
}

@media screen and (min-width: 914px) {
    /*body {
        width: 854px;
        margin: 0 auto;
    }*/
}
@media print {
    html {
        font-size: 13px;
    }
    table,
    pre {
        page-break-inside: avoid;
    }
    pre {
        word-wrap: break-word;
    }
}

.md-fences {
	background-color: #f8f8f8;
}
#write pre.md-meta-block {
	padding: 1rem;
    font-size: 85%;
    line-height: 1.45;
    background-color: #f7f7f7;
    border: 0;
    border-radius: 3px;
    color: #777777;
    margin-top: 0 !important;
}

.mathjax-block&gt;.code-tooltip {
	bottom: .375rem;
}

#write&gt;h3.md-focus:before{
	left: -1.5625rem;
	top: .375rem;
}
#write&gt;h4.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write&gt;h5.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
#write&gt;h6.md-focus:before{
	left: -1.5625rem;
	top: .285714286rem;
}
.md-image&gt;.md-meta {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
    border-radius: 3px;
    font-family: Consolas, &quot;Liberation Mono&quot;, Courier, monospace;
    padding: 2px 4px 0px 4px;
    font-size: 0.9em;
    color: inherit;
}

.md-tag{
	color: inherit;
}

.md-toc {
    margin-top:20px;
    padding-bottom:20px;
}

#typora-quick-open {
    border: 1px solid #ddd;
    background-color: #f8f8f8;
}

#typora-quick-open-item {
    background-color: #FAFAFA;
    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
    border-style: solid;
    border-width: 1px;
}

#md-notification:before {
    top: 10px;
}

/** focus mode */
.on-focus-mode blockquote {
    border-left-color: rgba(85, 85, 85, 0.12);
}

header, .context-menu, .megamenu-content, footer{
    font-family: &quot;Segoe UI&quot;, &quot;Arial&quot;, sans-serif;
}



    &lt;/style&gt;
&lt;/head&gt;
&lt;body class=&#39;typora-export&#39;&gt;
&lt;div id=&#39;write&#39; class=&#39;is-mac&#39;&gt;{{{table}}}&lt;/div&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
    </div>
</div>

<div class="github center-in-page markdown-body">
    <span class="github-icon"><img src="../../images/github.jpg"></span>
    <span class="repo-url">
        <a href="https://github.com/freewind-demos/jianshu-class-posts-summary">打开Github项目地址</a>
    </span>
    <span class="repo-issues">
        <a href="https://github.com/freewind-demos/jianshu-class-posts-summary/issues?q=">有疑问上Github Issues上讨论</a>
    </span>
</div>

<script src="../../js/site.js"></script>
<script type="text/javascript">
    var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1274292847'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s13.cnzz.com/z_stat.php%3Fid%3D1274292847' type='text/javascript'%3E%3C/script%3E"));
</script>
</body>
</html>